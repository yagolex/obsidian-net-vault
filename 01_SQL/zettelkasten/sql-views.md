# –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ SQL, —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º

## üìò –ß—Ç–æ —Ç–∞–∫–æ–µ `VIEW` (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ):

**VIEW** ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è SQL-–∑–∞–ø—Ä–æ—Å–æ–º.  
–û–Ω–∞ **–Ω–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–∞–º–∞** (–µ—Å–ª–∏ –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞), –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç **—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é**.

üìå –≠—Ç–æ –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π `SELECT`, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫–∞–∫ –∫ —Ç–∞–±–ª–∏—Ü–µ.

### ‚úÖ –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `VIEW`

|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è|
|---|---|
|üîí **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏**|–°–ø—Ä—è—Ç–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ `JOIN`-—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã|
|üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**|–†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —á–∞—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö|
|üëì **–£–¥–æ–±—Å—Ç–≤–æ —á—Ç–µ–Ω–∏—è**|–£–ø—Ä–æ—Å—Ç–∏—Ç—å –æ—Ç—á—ë—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏|
|üß± **–ë–∞–∑–∏—Å –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**|–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤, –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ç. –¥.|
### üîÅ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `VIEW`

‚úÖ –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å `INSERT`, `UPDATE`, `DELETE` —á–µ—Ä–µ–∑ `VIEW`, –µ—Å–ª–∏:
- `VIEW` —Å—Å—ã–ª–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ **–æ–¥–Ω—É –±–∞–∑–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É**    
- –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `DISTINCT`, `GROUP BY`, –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –∏ —Ç. –¥.    
- –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `JOIN` –∏–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ `INNER JOIN`  
- ‚ùå –ï—Å–ª–∏ `VIEW` —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–π, —Ç–æ –æ–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**

## üîÑ –î–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ `VIEW`

| –í–∏–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è                    | –û–ø–∏—Å–∞–Ω–∏–µ                                                                           |
| ------------------------------------ | ---------------------------------------------------------------------------------- |
| **–û–±—ã—á–Ω–æ–µ (–Ω–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)**      | –í—ã–ø–æ–ª–Ω—è–µ—Ç `SELECT` –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ. –î–∞–Ω–Ω—ã–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è.                          |
| **Indexed View (–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ)** | –° `UNIQUE CLUSTERED INDEX`. –î–∞–Ω–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è. |

### üõ†Ô∏è –ü—Ä–∏–º–µ—Ä –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:
```sql
CREATE VIEW vw_ActiveUsers AS
SELECT ID, Name, Email
FROM Users
WHERE IsActive = 1;

```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ç–∞–∫:
```sql
SELECT * FROM vw_ActiveUsers WHERE Email LIKE '%@gmail.com';

```

- –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ SELECT-–∑–∞–ø—Ä–æ—Å–∞

### üõ†Ô∏è –ü—Ä–∏–º–µ—Ä –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:
```sql
CREATE VIEW dbo.vw_CustomerTotals
WITH SCHEMABINDING
AS
SELECT CustomerID, COUNT_BIG(*) AS OrderCount, SUM(Total) AS TotalSpent
FROM dbo.Orders
GROUP BY CustomerID;

CREATE UNIQUE CLUSTERED INDEX IX_CustomerTotals
ON dbo.vw_CustomerTotals (CustomerID);

```

- –•—Ä–∞–Ω–∏—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ —Ç–∞–±–ª–∏—Ü–∞    
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `Orders`    
- –ë—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:    
    - –¢–æ–ª—å–∫–æ `INNER JOIN`        
    - `COUNT_BIG`, –∞ –Ω–µ `COUNT`        
    - –ë–µ–∑ `TOP`, `DISTINCT`, `OUTER JOIN`, `TEXT/NTEXT/IMAGE` –∏ –¥—Ä.


## Related topics:
- [[table-definition-and-behavior]]
- [[sql-indexes]]
- [[constraints-check-default]]


#sql #zettelkasten
