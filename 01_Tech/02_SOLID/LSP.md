---
aliases:
  - Liskov Substitution Principle
"topic:": SOLID
"subtopic:": LSP
"level:": Understand
"type:": concept
"status:": ready
"tags:": "#solid #oop #designprinciple"
intention: —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ¬´–ø—Ä–∞–≤–∏–ª—å–Ω–æ¬ª
---
# LSP ‚Äî Liskov Substitution Principle

## ‚ö° –ö—Ä–∞—Ç–∫–æ–µ
–û–±—ä–µ–∫—Ç—ã –ø–æ–¥–∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã**.

## üìñ –†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–µ
–ï—Å–ª–∏ `B` ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å (—Å—É–ø–µ—Ä–∫–ª–∞—Å—Å), –∞ `S` ‚Äî –µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å (–ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å), —Ç–æ –æ–±—ä–µ–∫—Ç—ã `S` –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–∑–¥–µ, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è `B`. –ù–∞—Å–ª–µ–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –æ—Å–ª–∞–±–ª—è—Ç—å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –∏ —É—Å–∏–ª–∏–≤–∞—Ç—å –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è, –ø—Ä–∏ —ç—Ç–æ–º —Å–æ–±–ª—é–¥–∞—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã.  
**–ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è:** –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∫ –ø—Ä–∏–º–µ—Ä—É `Rectangle` –∏ `Square`, –≥–¥–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞.  
**Anti-LSP:** ‚Äú–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ‚Äù ‚Äî –ª–∏–±–æ –∏–∑–±—ã—Ç–æ–∫, –ª–∏–±–æ –ø–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ.

## üß© –î–µ—Ç–∞–ª—å–Ω–æ–µ
–ú—ã –Ω–µ –º–æ–∂–µ–º –¥–æ–∫–∞–∑–∞—Ç—å, –Ω–∞—Ä—É—à–∞–µ—Ç –ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤ –∏–ª–∏ –Ω–µ—Ç, –ø–æ–∫–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–º—Å—è —Å —Ç–µ–º, —á—Ç–æ –æ–∂–∏–¥–∞—é—Ç –∫–ª–∏–µ–Ω—Ç—ã –æ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏—è –µ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞. –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞, —Å—É—Ç—å, - –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—è–≤–Ω—ã–π –∏–ª–∏ –Ω–µ—è–≤–Ω—ã–π, —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –∏–ª–∏ –Ω–µ—Ç, - –Ω–µ —Å—É—Ç—å). –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:
1. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —É—Å–∏–ª–∏–≤–∞—Ç—å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è (–Ω–µ –¥–æ–ª–∂–Ω—ã —Ç—Ä–µ–±–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ–≥–æ –æ—Ç —Å–≤–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤).    
2. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –æ—Å–ª–∞–±–ª—è—Ç—å –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è (–¥–æ–ª–∂–Ω—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ –º–∏–Ω–∏–º—É–º —Ç–æ–∂–µ, —á—Ç–æ –∏ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å).    
3. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ä—É—à–∞—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ —Å—É–º–º–∏—Ä—É—é—Ç—Å—è)    
4. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –Ω–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –±–∞–∑–æ–≤—ã–º –∫–ª–∞—Å—Å–æ–º.
–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–∞–Ω–∞—Ü–µ–µ–π –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –æ–Ω –ª–∏—à—å –ø–æ–º–æ–≥–∞–µ—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å, –≤ –∫–∞–∫–∏—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP (—á–µ—Ä–µ–∑ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –∏ –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è)

#### üí£ –ù–∞—Ä—É—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ **—É—Å–∏–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è**.

##### üß™ –ü–æ–¥—Ç–∏–ø —Ç—Ä–µ–±—É–µ—Ç **–±–æ–ª—å—à–µ**, —á–µ–º –±–∞–∑–æ–≤—ã–π —Ç–∏–ø:
```csharp
public class Bird
{
    public virtual void Fly(int altitude)
    {
        if (altitude < 0)
            throw new ArgumentException("Altitude must be positive");
        Console.WriteLine($"Flying at {altitude} meters");
    }
}

public class Penguin : Bird
{
    public override void Fly(int altitude)
    {
        // üî• –£–∂–µ—Å—Ç–æ—á–∞–µ–º –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ
        if (altitude < 1000)
            throw new InvalidOperationException("Penguins only fly above 1000 meters");
        Console.WriteLine("Penguin (somehow) is flying!");
    }
}

```

**–ß—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**
- –ö–æ–¥, –æ–∂–∏–¥–∞—é—â–∏–π `Bird`, –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å `Fly(500)` ‚Äî —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è `Bird`.    
- –ù–æ `Penguin` –Ω–µ –ø—Ä–∏–º–µ—Ç `500`, –Ω–∞—Ä—É—à–∞—è –æ–∂–∏–¥–∞–Ω–∏—è ‚Üí –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP.

#### üí£ –ù–∞—Ä—É—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ **–æ—Å–ª–∞–±–ª–µ–Ω–∏–µ –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è**.

##### üß™ –ü–æ–¥—Ç–∏–ø **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –º–µ–Ω—å—à–µ**, —á–µ–º –±–∞–∑–æ–≤—ã–π —Ç–∏–ø:
```csharp
public class Rectangle
{
    public virtual int Area(int width, int height)
    {
        return width * height;
    }
}

public class FaultyRectangle : Rectangle
{
    public override int Area(int width, int height)
    {
        // üî• –û—Å–ª–∞–±–ª—è–µ–º –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        return 0;
    }
}
```

**–ß—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**
- –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**, —á—Ç–æ `Area` –≤–µ—Ä–Ω—ë—Ç –ø–ª–æ—â–∞–¥—å.    
- –ü–æ–¥–∫–ª–∞—Å—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–≤—Å–µ–≥–¥–∞ 0**, —á—Ç–æ –ª–æ–º–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥, –ø–æ–ª–∞–≥–∞—é—â–∏–π—Å—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP.

## üìù –¢–µ—Ä–º–∏–Ω—ã
- [[01_Tech/00_OOP/Precondition]]
- [[01_Tech/00_OOP/Postcondition]]
- [[01_Tech/00_OOP/Invariant]]
- [[01_Tech/00_OOP/Contract]]
- [[01_Tech/00_OOP/Inheritance]]
- [[01_Tech/00_OOP/Polymorphism]]
- [[01_Tech/00_OOP/DbC]]

## üîó –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–µ—Ä–≤–æ–∏—Å—Ç–æ—á–Ω–∏–∫
https://sergeyteplyakov.blogspot.com/2014/09/liskov-substitution-principle.html