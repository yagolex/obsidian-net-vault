---
aliases:
  - Design by Contract
  - –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
"topic:": OOP
"subtopic:": DbC
"level:": Understand
"type:": concept
"status:": ready
"tags:": "#term #oop #dbc"
---

# –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (Design by Contract)

## ‚ö°–ö—Ä–∞—Ç–∫–æ–µ
**–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** (–∞–Ω–≥–ª. **Design by Contract**, **DbC**) ‚Äî —ç—Ç–æ **–º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º**, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–ª–∞—Å—Å–æ–≤, –º–µ—Ç–æ–¥–æ–≤, –º–æ–¥—É–ª–µ–π) –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **–∫–æ–Ω—Ç—Ä–∞–∫—Ç** –º–µ–∂–¥—É **–∫–ª–∏–µ–Ω—Ç–æ–º** (–≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–æ–π) –∏ **–ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º** (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∫–æ–¥–∞).

## üìñ –†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–µ
–ö–∞–∫ –∏ –≤ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ, –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –±–µ—Ä—É—Ç –Ω–∞ —Å–µ–±—è **–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞** –∏ –ø–æ–ª—É—á–∞—é—Ç **–≥–∞—Ä–∞–Ω—Ç–∏–∏**:

|–†–æ–ª—å|–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞|–ì–∞—Ä–∞–Ω—Ç–∏–∏|
|---|---|---|
|**–ö–ª–∏–µ–Ω—Ç**|–î–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ —Å **–¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏** (—Å–æ–±–ª—é–¥–∞—Ç—å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è)|–ü–æ–ª—É—á–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏–π –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è–º|
|**–ü–æ—Å—Ç–∞–≤—â–∏–∫**|–î–æ–ª–∂–µ–Ω **–≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–µ—Ç–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**, –µ—Å–ª–∏ –≤—Ö–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Å–æ–±–ª—é–¥–µ–Ω—ã|–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—Ö–æ–¥|

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞, —Å—É—Ç—å, - –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—è–≤–Ω—ã–π –∏–ª–∏ –Ω–µ—è–≤–Ω—ã–π, —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –∏–ª–∏ –Ω–µ—Ç, - –Ω–µ —Å—É—Ç—å).

| –¢–µ—Ä–º–∏–Ω                            | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ                                                                                                                           |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| **–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ** (`Precondition`)  | –£—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ **–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º –¥–æ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞**. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–µ–∂–∏—Ç –Ω–∞ **–∫–ª–∏–µ–Ω—Ç–µ (–≤—ã–∑—ã–≤–∞—é—â–µ–º –∫–æ–¥–µ)**. |
| **–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ** (`Postcondition`) | –£—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ **–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞**. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —ç—Ç–æ –Ω–µ—Å—ë—Ç **–º–µ—Ç–æ–¥**.                            |
| **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç** (`Invariant`)       | –£—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ **–≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ ‚Äî **–º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ –µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**.        |

### üß™ –ü—Ä–∏–º–µ—Ä –Ω–∞ C# (–∫–ª–∞—Å—Å `BankAccount`):
```csharp
public class BankAccount
{
    public decimal Balance { get; private set; }

    public BankAccount(decimal initialBalance)
    {
        // –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç: –±–∞–ª–∞–Ω—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
        if (initialBalance < 0)
            throw new ArgumentException("Initial balance cannot be negative");

        Balance = initialBalance;
    }

    public void Withdraw(decimal amount)
    {
        // –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ
        if (amount <= 0)
            throw new ArgumentException("Amount must be positive");

        if (amount > Balance)
            throw new InvalidOperationException("Insufficient funds");

        Balance -= amount;

        // –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ
        if (Balance < 0)
            throw new InvalidOperationException("Postcondition violated: Balance is negative");
    }

    public void Deposit(decimal amount)
    {
        // –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ
        if (amount <= 0)
            throw new ArgumentException("Amount must be positive");

        Balance += amount;

        // –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ: –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç –≤—Å—ë –µ—â—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
        if (Balance < 0)
            throw new InvalidOperationException("Postcondition violated: Balance is negative");
    }
}
```

### üîé –ê–Ω–∞–ª–∏–∑ —Å —Ä–∞–∑–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω

#### 1. **–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:**
- **–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ** ‚Äî –æ–±–µ—â–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞: "–Ø –ø–µ—Ä–µ–¥–∞–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ".    
- **–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ** ‚Äî –æ–±–µ—â–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞: "–Ø –≤—ã–ø–æ–ª–Ω—é —Å–≤–æ—é –∑–∞–¥–∞—á—É –∏ –æ—Å—Ç–∞–≤–ª—é —Å–∏—Å—Ç–µ–º—É –≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏".    
- **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç** ‚Äî –æ–±–µ—â–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞: "–ú–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ª–æ–≥–∏—á–Ω—ã–º, –¥–∞–∂–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏".   

#### 2. **–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏:**
- –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –æ–±–ª–µ–≥—á–∞—é—Ç –ø–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –≤ –≤—ã–∑—ã–≤–∞—é—â–µ–º –∫–æ–¥–µ.    
- –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è –ø–æ–º–æ–≥–∞—é—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–µ—Ç–æ–¥ –¥–µ–ª–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –¥–æ–ª–∂–µ–Ω.    
- –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ "–æ—Ö—Ä–∞–Ω–Ω–∏–∫–∏ –ª–æ–≥–∏–∫–∏".    

## üß† –ú–Ω–µ–º–æ–Ω–∏–∫–∞ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

| –¢–µ—Ä–º–∏–Ω      | –ú–Ω–µ–º–æ–Ω–∏–∫–∞                                                 |
| ----------- | --------------------------------------------------------- |
| –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ | **–î–æ** –º–µ—Ç–æ–¥–∞: —á—Ç–æ –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –º–µ—Ç–æ–¥–∞ |
| –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ | **–ü–æ—Å–ª–µ** –º–µ—Ç–æ–¥–∞: —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–º–µ—Ç–æ–¥**               |
| –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç   | **–í—Å–µ–≥–¥–∞**: —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–∫–ª–∞—Å—Å**                     |
–∏–ª–∏:
"–ï—Å–ª–∏ —Ç—ã –¥–∞—à—å –º–Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—Ö–æ–¥ (–ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ), —è –æ–±–µ—â–∞—é –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥ (–ø–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ), –∏ —è –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é —Å–≤–æ—é —Å—É—â–Ω–æ—Å—Ç—å (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç)."

## üìê –°–≤—è–∑—å —Å SOLID –∏ LSP
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ **–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç LSP**: –µ—Å–ª–∏ –ø–æ–¥–∫–ª–∞—Å—Å –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—É—Å–∏–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ, –æ—Å–ª–∞–±–ª—è–µ—Ç –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ, –º–µ–Ω—è–µ—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç), –æ–Ω –Ω–∞—Ä—É—à–∞–µ—Ç –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É.
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å **Open/Closed Principle** ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å, –Ω–æ –Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å.
## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —è–∑—ã–∫–æ–≤

| –Ø–∑—ã–∫       | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤                                                                                                                           |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| **Eiffel** | –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ DbC –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–∑—ã–∫–∞                                                                                                       |
| **C#**     | –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã —á–µ—Ä–µ–∑ [`System.Diagnostics.Contracts`](https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.contracts) –∏–ª–∏ `Debug.Assert` |
| **Java**   | –ß–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`jContractor`, `Cofoja`)                                                                                           |
| **Python** | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: `icontract`, `PyContracts`                                                                                                         |

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã
- [[Precondition]]
- [[Postcondition]]
- [[Invariant]]
- [[LSP|Liskov Substitution Principle]]
- [[SRP|Single Responsibility Principle]]
